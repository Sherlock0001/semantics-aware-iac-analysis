code,label,commit_name
include_role:,1,Merge branch 'fix-ansible-lint' into 'main'
"project: ""awx ansible"" playbook: playbooks/restore_local.yml",0,fix delegation in playbooks
dest: ~/.env/ansible,0,fix: path
"creates: ""/var/lib/ambari-server/resources/mpacks/solr-ambari-mpack-{{ hdpsearch_version }}""",0,Fix for HDP Search mpack installation.
"postgresql['md5_auth_cidr_addresses'] = [ '{{ groups.secondary_trackingdbs_internal[0] }}/32', '{{ groups.secondary_trackingdbs_internal[1] }}/32', '{{ groups.secondary_trackingdbs_internal[2] }}/32', '{{ groups.secondary_pgbouncer_trackingdb_internal[0] }}/32', 'localhost' # patroni configuration patroni['replication_password'] = '{{ sql_user_password_plain }}' patroni['postgresql']['max_wal_senders'] = 4",1,Refactor postgresql authentication configuration
"rpmfusion_distribution_major_version: ""{{ _rpmfusion_distribution_major_version[ansible_distribution_major_version] | default(ansible_distribution_major_version) }}"" rpmfusion_free_repository: ""https://download1.rpmfusion.org/free/{{ rpmfusion_distribution }}/rpmfusion-free-release-{{ rpmfusion_distribution_major_version }}.noarch.rpm"" rpmfusion_nonfree_repository: ""https://download1.rpmfusion.org/nonfree/{{ rpmfusion_distribution }}/rpmfusion-nonfree-release-{{ rpmfusion_distribution_major_version }}.noarch.rpm"" rpmfusion_free_gpgp_key: ""https://rpmfusion.org/keys?action=attachfile&do=get&target=rpm-gpg-key-rpmfusion-free-{{ rpmfusion_distribution }}-{{ rpmfusion_gpgkey }}"" rpmfusion_nonfree_gpgp_key: ""https://rpmfusion.org/keys?action=attachfile&do=get&target=rpm-gpg-key-rpmfusion-nonfree-{{ rpmfusion_distribution }}-{{ rpmfusion_gpgkey }}""",1,Update to fix everything with ansible-lint
"command: ""touch {{certs_directory}}/cacert-merge-config.yml"" args: creates: ""{{certs_directory}}/cacert-merge-config.yml""",1,fixed a typo and updated to remove items deprecated as of ansible 2.4.1.0
notify: - ufw reload,0,"Use handler to reload ufw, and fix staging issuer"
- sequel-pro,1,Fixes #127: Replace Sequel Pro with Sequel Ace.
- name: install postgresql module dependency,1,postgresql: Fix name of RHEL-only task
dest: /etc/systemd/system/nginx.service,0,nginx-passenger: fix location of systemd service
name: enmanuelmoreira.k3s.master name: enmanuelmoreira.k3s.node name: enmanuelmoreira.k3s.post,1,fix
- name: upstrart environment variables,1,Fix typo in task name
"codex_container_image: '{{ codex_container_repo }}{{ "":"" + codex_container_tag }}'",1,Merge branch 'fix-container-roles' into 'develop'
"- ""[packages_installation] actions to do after packages installation""",1,fix namespace of handlers in notify instruction
"url: ""https://dl.k8s.io/{{ lookup('url', 'https://dl.k8s.io/release/stable.txt') }}/bin/linux/amd64/kubectl"" checksum: ""sha256:{{ lookup('url', 'https://dl.k8s.io/' + lookup('url', 'https://dl.k8s.io/release/stable.txt') + '/bin/linux/amd64/kubectl.sha256') }}""",1,refactor: start lint
- name: test postfix configuration # noqa empty-string-compare failed_when: res.stderr != '',0,ansible-lint: Fix some errors
"dest: /root/.my.cnf notify: ""restart {{ mysqlservice }}"" - name: ""deletes anonymous mysql server user for localhost"" mysql_user: user: """" state: ""absent"" login_user: root login_password: ""{{ mysql_root_pass }}"" port: ""{{ mysql_port }}/tcp""",0,Fix path and variable ref
docker_repo_baseurl: 'https://download.docker.com/linux/centos/7/$basearch/stable',1,docker-engine: Fix 'docker-ce' repository base URL to always follow release version
"url=""http://{{rancher_server}}:{{rancher_port}}/v2/projects"" return_content=yes url=""http://{{rancher_server}}:{{rancher_port}}/v2/registrationtokens?projectid={{project_id.json['data'][0]['id']}}"" return_content=yes restart_policy: always",0,rancher fixes
- lvm_volumes|length > 0 - devices|length > 0,0,lvm: fix condition when selecting which scenario to run
"line: ""user = {{ user }}"" line: ""group = {{ user }}""",1,Fix user vars
# defaults file for training training_session_attendees: 0,0,fixes and add demo role
"name: ""{{ gnome_packages }}""",0,Addressed looping package installation deprecation.
include_tasks: tasks2.yml,1,fix: Do not add the skipped tags to the graph
"- name: check gcp mandatory variables during provisioning when: not remove | bool - name: check gcp mandatory variables during deprovisioning ansible.builtin.assert: that: ""{{ item }} is defined"" fail_msg: ""{{ item }} is not defined"" loop: - gcp_project - gcp_region - gcp_zone",0,adjust GCP variable check for provisioning and deprovisioning
src: ~/fiji.app/imagej2.desktop dest: ~/bureau/imagej2.desktop,1,Fix launcher creation in fiji.yml
"when: ansible_os_family in ['rocky', 'redhat']",0,Fix little bugs
haskell_src_dir: /home/urbanslug/src/haskell generic_src_dir: /home/urbanslug/src/generic dotfiles_dir: /home/urbanslug/src/generic/dotfiles urbanslug_home_dir: /home/urbanslug zsh_dir: /home/urbanslug/.zsh githubuser: urbanslug,1,Make it open source-able
- role: elliotweiser.osx-command-line-tools - role: geerlingguy.mac.homebrew - role: geerlingguy.mac.mas - role: geerlingguy.mac.dock when: configure_dock tags: ['dock'],0,Fixes #116: Switch from roles and dock tasks to geerlingguy.mac collection.
template: src=mongod.conf.j2 dest=/etc/mongod-${inventory_hostname}.conf command: creates=/var/lock/subsys/mongod-${inventory_hostname} /etc/init.d/mongod-${inventory_hostname} start,1,Merge pull request #107 from tuladhar/fix-var-interpo
"- name: ""cluster-redis: install redis cluster""",0,"Fix a bunch of names so it's easier to track what is happening when ansible runs, including some fixes to nextcloud and addition of b2 secret for longhorn for backup purposes"
inv_install_apache__remove_all_vhosts: false,0,fix idempotence
- import_tasks: all.yml - import_tasks: rhel.yml - import_tasks: debian.yml,1,ansible-lint: Fix some errors
community.general.ufw: community.general.ufw: community.general.ufw:,0,Merge branch '116-deprecation-warning-wrong-use-of-internal-ref-for-ufw-module' into 'master'
"gem: name: ""{{ item }}"" - name: install passenger gem: name: passenger version: ""{{ passenger_ver }}"" user_install: no command: passenger-install-nginx-module --auto",1,fix paths for rbenv
"bootstrap_ssl_files__user: ""{{ inv_bootstrap_ssl_files__user }}"" bootstrap_ssl_files__base_path: ""{{ inv_bootstrap_ssl_files__base_path }}"" bootstrap_ssl_files__ca_validity: ""{{ inv_bootstrap_ssl_files__ca_validity }}"" bootstrap_ssl_files__key_size: ""{{ inv_bootstrap_ssl_files__key_size }}"" bootstrap_ssl_files__root_ca: ""{{ inv_bootstrap_ssl_files__root_ca }}"" bootstrap_ssl_files__intermediates_ca: ""{{ inv_bootstrap_ssl_files__intermediates_ca }}"" bootstrap_ssl_files__end_certs: ""{{ inv_bootstrap_ssl_files__end_certs }}"" bootstrap_ssl_files__cert_validity: ""{{ inv_bootstrap_ssl_files__cert_validity }}""",1,fix CI 3 4
basename $(grep -r fsid /etc/ceph/ | egrep -o '^[^.]*'),0,Merge pull request #1330 from ceph/fix-cluster-name-take-over
register: logged_in_user,0,code cleanup
tags: tags: tags: tags: tags: tags: tags: tags: tags: tags: tags: owner: {{ user.name }} group: {{ user.group }} tags: src: {{ ssh.user_key }} owner: {{ user.name }} group: {{ user.group }} tags: tags:,1,mothball attacks
"src: ""firefox.desktop"" mode: '0644' src: ""firefox-p.desktop"" mode: '0644'",1,refactor: start lint
"ipvlan_swarm_internal: ""{{ not (voip_options.gateway is defined or voip_default_route is defined) }}""",1,5046 fix internal flag on voip network
nodered: container_name: nodered build: '{{ services_env_path }}/nodered/.' restart: unless-stopped user: '0' privileged: true env_file: '{{ services_env_path }}/nodered/nodered.env' - 1880:1880 - '{{ services_volume_path }}/nodered/data:/data' nordcloud: image: nextcloud container_name: nextcloud ports: - 9321:80 volumes: - '{{ services_volume_path }}/nextcloud/html:/var/www/html' depends_on: - nextcloud_db links: - nextcloud_db nextcloud_db: image: linuxserver/mariadb container_name: nextcloud_db - '{{ services_volume_path }}/nextcloud/db:/config' environment: - mysql_root_password=password - mysql_password=password - mysql_database=nextcloud - mysql_user=nextcloud restart: unless-stopped,1,#5 documentation of the services
- docker,1,Fix Travis.
roles: - role: configure-client,1,Change: A few linting errors
- name: get system python 3 version # noqa 306 - name: get virtualenv python version # noqa 306,1,ansible-lint: Fix and ignore some errors
- pleroma-main - pleroma-main,0,refactor: changed pleroma-backend to pleroma-main
"name: ""{{ homeassistant_packages }}""",0,Addressed looping package installation deprecation.
"apt: pkg=mysql-server state=installed apt: pkg=python-mysqldb state=installed service: name=mysql state=started mysql_user: name=root host=localhost password=""{{ mysql_root_password }}"" state=present",0,Merge pull request #113 from ftao/auth-bug-fix
galaxy_info: role_name: fail2ban author: no fuss computing description: a role to install the specified github release tag for fail2ban license: https://gitlab.com/nofusscomputing/infrastructure/ansible-roles/-/blob/master/license min_ansible_version: 1.2 platforms: - name: debian versions: - 10 galaxy_tags: [ fail2ban ],1,Merge branch 'fix-more-bugs' into 'development'
- name: install keepassxc password manager and required packages become: true community.general.pacman: name: - keepassxc state: present # note: not necessary?: https://archlinux.org/packages/community/x86_64/keepassxc/ # - name: copy keepassxc-proxy binary into /usr/bin/ # become: true # ansible.builtin.copy: # remote_src: false # src: files/browser/native-messaging-hosts/keepassxc-proxy # dest: /usr/bin/keepassxc-proxy # owner: root # group: root # mode: '0755' - name: set keepassxc theme to system (classic) ansible.builtin.blockinfile: path: ~/.config/keepassxc/keepassxc.ini marker: '# {mark} keepassxc_theme' block: | [gui] applicationtheme=classic mode: '0644' create: true state: present,0,Merge branch '13-fix-zshrc' into 'main'
"command: > - name: copy php-fpm configuration template: src=""php-fpm.conf.j2"" dest=""/etc/php5/fpm/pool.d/{{ item.site_name }}.conf"" with_items: wordpress_sites notify: restart php-fpm",1,HHVM implementation
"name: [dnsmasq, debian-installer-{{ ansible_distribution_version }}-amd64",1,fix array reference
"molecule_test_debian_12: <<: *molecule_test variables: scenario: ""cicd-debian-12"" rules: - if: '$ci_commit_message=~/^[^merge]/ && $ci_commit_branch == ""develop""' molecule_test_ubuntu_22: scenario: ""cicd-ubuntu-22"" allow_failure: true molecule_test_debian_11: <<: *molecule_test variables: scenario: ""cicd-debian-11"" allow_failure: true rules: - if: '$ci_commit_message=~/^[^merge]/ && $ci_commit_branch == ""develop""' - ""molecule_test_debian_12""",1,fix CI
php_opcache_revalidate_freq: 2 # 30 en prod,1,Role php-fpm: fix linting errors
"name: ""{{ user.name }}""",0,mothball attacks
- community.posix,1,typo in collection name
"- name: ""cert-manager: add namespace"" - name: ""cert-manager: download the clusterissuer yml"" - name: ""cert-manager: install cert-manager"" - name: ""cert-manager: install the clusterissuer for production"" - name: ""cert-manager: install the clusterissuer for staging""",0,"Fix a bunch of names so it's easier to track what is happening when ansible runs, including some fixes to nextcloud and addition of b2 secret for longhorn for backup purposes"
- restart firewalld mode: 0666,1,fix some ansible-lint errors
version: 2.0.1,1,Updat ansible-docker-matrix (again) to pull in upload fix
purge_networks: true,1,refactor: Migrate to networks: strict from purge_networks
odroid: vagrant: hosts: virtualbox: ansible_host: localhost ansible_port: 2222 vars: pop_ssd: /dev/sdc pop_ssd_mount: /dev/sdc1,0,fix: mount the virtualbox drive from /dev/sdc
- name: test playbook hosts: alpine,0,Fix /.cache directory permissions
comment: '{{ item.1.comment | default(omit) }}' exclusive: '{{ item.1.exclusive | default(omit) }}' key_options: '{{ item.1.key_options | default(omit) }}' manage_dir: '{{ item.1.manage_dir | default(omit) }}' path: '{{ item.1.path | default(omit) }}' user: '{{ item.0.name }}' validate_certs: '{{ item.1.validate_certs | default(omit) }}',0,Add full support of authorized keys module
become: true shell: gitlab-ctl reconfigure,0,update code
name: postgresql-9.6 name: postgresql-9.6,1,Fix install PostgreSQL
"name: ""{{item}}"" become_user: ""{{service}}""",1,Fix creation of directories for datesfaciles when directories exist
- mysql - name: create mysql db 'metastore' mysql_db: name=metastore state=present login_user=root login_password=hive_{{ site_name }} tags: - mysql - hive - name: init hive metastore schema shell: mysql -uroot -phive_{{ site_name }} metastore < /usr/lib/hive/scripts/metastore/upgrade/mysql/hive-schema-0.10.0.mysql.sql tags: - mysql - hive - name: add and grant mysql user 'hiveuser' mysql_user: name=hiveuser host=localhost password=hive_{{ site_name }} priv=metastore.*:all state=present login_user=root login_password=hive_{{ site_name }} tags: - mysql - hive,1,Fix postgres script. [ci skip]
--sds_ip {{ hostvars[inventory_hostname]['ansible_'+hostvars[inventory_hostname]['scaleio_interface']]['ipv4']['address'] }},0,fixes issue for scaleio interface on non-homogenius clusters
docker_tag: enmanuelmoreira/docker-ansible-almalinux8:latest,1,Fix image name
"order: ""{{ sort_method | default(""inventory"") }}""",1,Fix wrong syntax for value of order
- name: test connection to webapp,0,fix some ansible-lint errors
"when: nameserver_ipv4 is defined when: dns_configure.rc == 0 when: dns_apply.rc == 0 when: dns_reload.rc == 0 when: dns_restart.rc == 0 when: dns_result.rc == 0 register: kinit_result - name: destroy kerberos ticket ansible.builtin.command: cmd: ""kdestroy -a"" when: kinit_result is defined tags: - register",0,Bugfix flags
- sudo rm -rf /usr/local/homebrew - sudo rm -rf /usr/local/caskroom - sudo rm -rf /usr/local/bin/brew,0,Issue #61: Use sudo when removing brew stuff.
"when: ansible_os_family in ['rocky', 'redhat']",1,Fix little bugs
radicale_addr: 0.0.0.0,0,"roles/radicale: correct permissions for htpasswd file, use public listening address"
"- shell: ' echo $(htpasswd -nb admin {{ enter_password }}) | sed -e s/enterpasswordpls/\\$/g ./ansible/roles/traefik/files/docker-compose.yml ' - shell: ' sed -i ""s/enter_domain/{{ enter_domain }}/g"" ./ansible/roles/traefik/files/docker-compose.yml ' - shell: ' sed -i ""s/enter_email/{{ enter_email }}/g"" ./ansible/roles/traefik/files/data/traefik.yml ' - shell: ' sed -i ""s/$/$$/g"" ./ansible/roles/traefik/files/docker-compose.yml '",1,Add treafik2.2 bugs fixes 4
image: dliappis/ubuntu:14.04 image: debian:7 image: debian:8 image: dliappis/centos:6 image: dliappis/centos:7,1,Optimised testing images
- google.cloud - ansible.posix - amazon.aws - community.aws,0,Merge branch '13-broken-playbook-to-copy-and-paste-error' into 'main'
"- name: ""common: update, upgrade and install common packages"" - name: ""common: install pip3 modules kubernetes, ansible and jsonpatch""",0,"Fix a bunch of names so it's easier to track what is happening when ansible runs, including some fixes to nextcloud and addition of b2 secret for longhorn for backup purposes"
"- name: ""microk8s: open up ports in ufw"" - name: ""microk8s: configure users"" - name: ""microk8s: configure microk8s"" - name: ""microk8s: setup kubeconfig""",0,"Fix a bunch of names so it's easier to track what is happening when ansible runs, including some fixes to nextcloud and addition of b2 secret for longhorn for backup purposes"
cmd: source ~/.bashrc && conda create -n napari-env -y python=3.7,1,Correct bug in create napari environment task
ignore_errors: true - name: check if list of kernel builtin modules exists stat: path: '/lib/modules/{{ ansible_kernel }}/modules.builtin' register: modules_builtin become: true with_items: '{{ satnogs_radio_blacklist_modules }}' when: modules_builtin.stat.exists,0,satnogs-radio: Fix module unloading error after kenel update
- subversion,1,Add phpmyadmin; fix handlers
"content: ""{{ hostvars[inventory_hostname].foreman_params }}""",0,Fixed bug: It was not saving foreman params
"--- - name: deploy and encrypted file to servers hosts: all become: no gather_facts: no vars: file_src: ./files/file-to-copy.txt file_dest: ""/tmp/{{ inventory_hostname }}.txt"" tasks: - name: decrypt and deploy file to servers copy: src: ""{{ file_src }}"" dest: ""{{ file_dest }}""",1,Also use an encrypted playbook now
- name: a playbook to remove a specified package - name: remove a package name: tree,1,Fix variables
sudo: yes service: name={{ elasticsearch.deb.service }} state=restarted,0,Role refactor
"yum: name={{ item }} state=installed seboolean: name=mysql_connect_any state=true persistent=yes template: src=my.cnf.j2 dest=/etc/my.cnf service: name=mysqld state=started enabled=yes lineinfile: dest=/etc/sysconfig/iptables state=present regexp=""{{ mysql_port }}"" insertafter=""^:output "" line=""-a input -p tcp --dport {{ mysql_port }} -j accept"" mysql_db: name={{ dbname }} state=present mysql_user: name={{ dbuser }} password={{ upassword }} priv=*.*:all host='%' state=present",1,Fix ansible-lint reported errors and update syntax in lamp_simple.
- macvim,1,Issue #82: Remove macvim so tests can pass again - from the right place.
"name: ""{{ hostvars[item].inventory_hostname }}"" folder: ""{{ openshift_cloudprovider_vsphere_datacenter }}/vm/{{ openshift_cloudprovider_vsphere_folder }}"" folder: ""{{ openshift_cloudprovider_vsphere_datacenter }}/vm/{{ openshift_cloudprovider_vsphere_folder }}""",0,mend
connection: local â”‚ gather_facts: no â”‚,1,fix typo
"bootstrap_ssl_files__user: ""{{ input_bootstrap_ssl_files__user }}"" bootstrap_ssl_files__base_path: ""{{ input_bootstrap_ssl_files__base_path }}"" bootstrap_ssl_files__ca_validity: ""{{ input_bootstrap_ssl_files__ca_validity }}"" bootstrap_ssl_files__key_size: ""{{ input_bootstrap_ssl_files__key_size }}"" bootstrap_ssl_files__root_ca: ""{{ input_bootstrap_ssl_files__root_ca }}"" bootstrap_ssl_files__intermediates_ca: ""{{ input_bootstrap_ssl_files__intermediates_ca }}"" bootstrap_ssl_files__end_certs: ""{{ input_bootstrap_ssl_files__end_certs }}"" bootstrap_ssl_files__cert_validity: ""{{ input_bootstrap_ssl_files__cert_validity }}""",0,fix CI 3 4
"src: ""{{ item + .j2 }}""",1,Fix missing single quotes/syntax error.
"- set_fact: plugins_to_remove=""{{ installed_plugins.stdout_lines | difference(es_plugins | json_query('[*].plugin')) | default([]) }}""",0,Fixes for multi + config tests
- trackingdb-pgbouncer,0,Fix bootstrapping
copy: src=/usr/share/easy-rsa/ dest=/etc/openvpn/easy-rsa,0,path fix
"project: ""awx on k3s"" playbook: backup/ansible/project/backup.yml",1,fix delegation in playbooks
ignore_errors: yes ignore_errors: yes apt: name=subversion state=latest ignore_errors: yes,0,Make common stuff optional; fix nginx reload
- name: list security updates - name: install security updates,1,install only security updates
author: crazyusb min_ansible_version: 2.1,1,Update to fix everything with ansible-lint
failed_when: result.status == 200 or result.status == -1 failed_when: result.status == 200 or result.status == -1,1,fix CI 4
#vault_secrets_path: core/ansible-service #vault_shared_secrets_path: core/shared/aws_deploy_credentials ...,1,Fix yaml lintting
"shell: echo 'kubelet_extra_args=""--kube-reserved=cpu=500m,memory=32mi,ephemeral-storage=500mi --system-reserved=cpu=250mi,memory=16mi,ephemeral-storage=500mi""' | tee /etc/default/kubelet command: ""sh {{ hostvars['pikube-master.localdomain']['join_command']['stdout_lines'][0] }}""",1,"Typo in worker kubelet args, install specific version of docker, set daemon params"
"name: ['postgresql', 'postgresql-contrib', 'libpq-dev', 'python3-psycopg2']",0,"update ansible syntax, fix issues with ci role"
sudo: no sudo: yes sudo: yes sudo: yes sudo: yes sudo: yes sudo: yes,0,Fixing permissions errors with Dashboard & Website..
- name: install keepassxc password manager and required packages become: true community.general.pacman: name: - keepassxc state: present,0,linting fixes
state: latest - docker-ce - docker-ce-cli state: started,1,"Typo in worker kubelet args, install specific version of docker, set daemon params"
"license: license mit min_ansible_version: ""2.1""",0,Fix licence and add some information in Readme
"password: ""$6$q1kzaqpo3dga4$/qsdz33s.emvfa7s.nli97ddeulrf2ie3zxspjphx5e.azbcebc.ulrjids5d2t11iv.j5gsq4qzkvwohsk2x1""",0,Fix merge conflict
"name: [ lynx, weechat, weechat-python, weechat-perl, weechat-lua, weechat-ruby, weechat-spell, mutt, newsboat, fa, lastpass-cli, neoftech, ranger, aspell, aspell-en ]",1,Add a slew of additional packages that were missed after provisioning my l203ma
"type: swimlanes matrix_synapse_manhole_enabled: ""{{ ssm_vars_synapse.manhole_enabled }}"" matrix_synapse_federation_enabled: ""{{ ssm_vars_synapse.federation_enabled }}"" matrix_synapse_metrics_enabled: ""{{ ssm_vars_synapse.metrics_enabled }}"" matrix_synapse_registration_enabled: ""{{ ssm_vars_synapse.registration_enabled }}"" matrix_s3_media_store_enabled: ""{{ ssm_vars_synapse.s3_media_store_enabled }}"" matrix_synapse_email_enabled: ""{{ ssm_vars_synapse.email_enabled }}"" matrix_ma1sd_federation_enabled: ""{{ ssm_vars_synapse.federation_enabled }}"" matrix_ma1sd_synapsesql_connection: ""postgresql://{{ matrix_synapse_db_hostname }}:{{ matrix_synapse_db_port }}/{{ matrix_synapse_db_name }}?user={{ matrix_synapse_db_username }}&password={{ matrix_synapse_db_password }}"" matrix_sygnal_enabled: true",1,various fixes
"- name: stage filebeat json index template copy: src=filebeat-index-template.json dest=/tmp/filebeat-index-template.json owner=root group=root mode=0644 become: true # note: we can't currently use the ansible uri module here, curl is a workaround # https://github.com/ansible/ansible-modules-core/issues/265 # http://stackoverflow.com/questions/28997007/translate-curl-put-into-ansible-uri-module command: curl -xpost 'http://localhost:9200/_template/filebeat?pretty' -d@/tmp/filebeat-index-template.json",1,"Multiple fixes, cleanup, ES listen port options"
"- name: set trusted domain command: > php ""{{ occ_command }}"" config:system:set trusted_domains 1 --value={{ ansible_fqdn }} become: true become_user: www-data become_method: sudo - name: configure pretty urls command: > php ""{{ occ_command }}"" config:system:set overwrite.cli.url --value=https://{{ ansible_fqdn }} become: true become_user: www-data become_method: sudo - name: update htaccess for pretty urls command: > php ""{{ occ_command }}"" maintenance:update:htaccess become: true become_user: www-data become_method: sudo - name: configure cache command: > php ""{{ occ_command }}"" config:system:set memcache.local --value=""\oc\memcache\apcu""",1,Fix ansible-lint E301 errors
"- name: install qutebrowser spell packages become: yes become_user: user ansible.builtin.raw: $(find $(nix-store --query --outputs $(which qutebrowser)) -iname '*dictcli.py*' | head -1) list install {{ item }} loop: - en-us - pt-br when: ansible_facts['distribution'] == ""nixos""",0,fix: qutebrowser dicts
"name: ""{{ item.name }}"" when: item.url is not defined loop: ""{{ homebrew.taps }}"" - name: enable taps homebrew_tap: name: ""{{ item.name }}"" url: ""{{ item.url }}"" when: item.url is defined",1,Use default filter to remove task duplication
"local_action: ""command scp -r {{ splunk_repository.repository_root }}/distserverkeys/{{ ansible_hostname }}* splunk@{{ item }}:{{ splunk_installation.splunk_home_path }}/etc/auth/distserverkeys""",1,fix some things... add notes
"os_version: ""{{ ansible_lsb.release if ansible_lsb is defined else ansible_distribution_version }}"" os_version_major: ""{{ os_version | regex_replace('^([0-9]+)[^0-9]*.*', '\\\\1') }}"" '7': 'e/epel-release-7-5.noarch.rpm'",1,Merge pull request #51 from ernestas-poskus/fix/os_version_major_parsing_and_7_epel_release
"- name: installing essentials tags: yum,centos yum: name: ""{{ packages }}"" state: latest - name: install terraform on master node hosts: master become: true - name: create jcode user tags: always user: name: jcode group: root - name: add sudoers file for jcode tags: always copy: src: sudoer_jcode dest: /etc/sudoers.d/jcode owner: root group: root mode: 0440",1,"initialized jcode user, bootstrap script, and separated bootstrap essential tasks from yummy.yml to bootstrap.yml"
"- cp ./molecule/$scenario/templates/* ./molecule/$scenario/roles/labocbz.add_apache_confs/templates/"" - cp ./molecule/$scenario/templates/* ./roles/labocbz.add_apache_confs/templates/""",0,fix j2 2
"graylog_endpoint: ""{{ hostvars[inventory_hostname]['ansible_eth0']['ipv4']['address'] }}"" graylog_user: admin graylog_user_password: yourpassword path: ""cache/deploy-graylog"" - name: create ca keygraylog_external privatekey_path:: ""{{ ca_key.filename }}"" graylog_http_publish_uri: ""https://{{ graylog_endpoint }}"" - name: set up ladap auth endpoint: ""{{graylog_endpoint}}"" graylog_user: ""{{graylog_user}}"" graylog_password: ""{{graylog_user_password}}"" search_pattern: ""(&(objectclass=inetorgperson)(uid={0}))"" tags: [""graylog_ldap_config""] - name: ""debugaloo"" debug: var: graylog_endpoint tags: [""graylog_input_config""] - name: add syslog input dreamer_labs.graylog_modules.graylog_input_rsyslog: endpoint: ""{{ graylog_endpoint }}"" graylog_user: ""{{ graylog_user }}"" graylog_password: ""{{ graylog_user_password }}"" validate_certs: ""false"" action: ""create"" input_type: ""tcp"" title: ""rsyslog tcp"" global_input: ""true"" allow_override_date: ""true"" bind_address: ""0.0.0.0"" expand_structured_data: ""false"" force_rdns: ""false"" number_worker_threads: ""2"" port: ""1514"" recv_buffer_size: ""1048576"" store_full_message: ""true"" tags: [""graylog_input_config""]",0,fix: fixed issues with yamllint
"debug: msg=""*** edit the /etc/motd , /etc/issue and /etc/issue.net files and remove any lines containing \m , \r , \s or \v""",1,Section 11.2: Fix minor punctuation error
- nunes-moura-cloud,1,#5 documentation of the services
"loop: ""{{ groups['backend'] }}"" when: inventory_hostname in groups['proxy'] - name: add dns entries for proxy node lineinfile: line: ""{{ hostvars[inventory_hostname].ansible_default_ipv4.address }} {{ hostvars[item]['backend_type'] }}.internal.test"" state: present dest: /etc/hosts loop: ""{{ groups['backend'] }}"" when: inventory_hostname in groups['proxy'] - name: configure ssl certs hosts: all become: true vars: cert_name: test_selfsigned molecule_run_dir: ""{{ lookup('env', 'molecule_ephemeral_directory') }}"" pre_tasks: - block: - name: create temporary dir for run file: path: ""{{ molecule_run_dir }}/tmp"" state: directory register: cert_tmpdir - name: create ca key community.crypto.openssl_privatekey: path: ""{{ cert_tmpdir.path }}/ca_key.pem"" register: ca_key - name: create the ca csr community.crypto.openssl_csr: path: ""{{ cert_tmpdir.path }}/ca.csr"" privatekey_path: ""{{ ca_key.filename }}"" basic_constraints: - ca:true common_name: ""my-ca"" register: ca_csr - name: sign the ca csr community.crypto.x509_certificate: path: ""{{ cert_tmpdir.path }}/ca.crt"" csr_path: ""{{ ca_csr.filename }}"" privatekey_path: ""{{ ca_key.filename }}"" provider: selfsigned register: ca_crt - name: generate an openssl private key with the default values (4096 bits, rsa) community.crypto.openssl_privatekey: path: ""{{ cert_tmpdir.path }}/{{ cert_name }}.pem"" register: test_key - name: generate an openssl certificate signing request community.crypto.openssl_csr: path: ""{{ cert_tmpdir.path }}/{{ cert_name }}.csr"" privatekey_path: ""{{ test_key.filename }}"" common_name: ""*.internal.test"" subject_alt_name: - ""ip:{{ hostvars[inventory_hostname]['ansible_eth0']['ipv4']['address'] }}"" - ""ip:127.0.0.1"" - ""dns:localhost"" - ""dns:*.internal.test"" register: test_csr - name: generate a self signed openssl certificate community.crypto.x509_certificate: path: ""{{ cert_tmpdir.path }}/{{ cert_name }}.crt"" privatekey_path: ""{{ test_key.filename }}"" csr_path: ""{{ test_csr.filename }}"" ownca_path: ""{{ ca_crt.filename }}"" ownca_privatekey_path: ""{{ ca_key.filename }}"" provider: ownca register: test_crt run_once: true become: false delegate_to: localhost when: inventory_hostname in groups['backend'] - name: copy openssl files copy: src: ""{{ item.file }}"" dest: ""{{ item.dest }}"" when: inventory_hostname in groups['backend'] loop: - dest: ""/etc/pki/tls/certs/{{ test_crt.filename | basename }}"" file: ""{{ test_crt.filename }}"" - dest: ""/etc/pki/tls/private/{{ test_key.filename | basename }}"" file: ""{{ test_key.filename }}"" - name: copy ca certificate copy: src: ""{{ item.file }}"" dest: ""{{ item.dest }}"" loop: - dest: ""/etc/pki/ca-trust/source/anchors/{{ ca_crt.filename | basename }}"" file: ""{{ ca_crt.filename }}"" - name: update ca trust command: | update-ca-trust extract update-ca-trust enable changed_when: false become: true vars: cert_name: test_selfsigned - listen 443 ssl - ssl_certificate_key /etc/pki/tls/private/{{ cert_name }}.pem - ssl_certificate /etc/pki/tls/certs/{{ cert_name }}.crt",0,fix: fix stream and testing
- aws_access_key_id - aws_secret_access_key - azure_secret - azure_client_id - azure_subscription_id - azure_tenant - controller_host - controller_username - controller_password - controller_verify_ssl - gcp_auth_kind - gcp_project - gcp_service_account_file - k8s_auth_verify_ssl - k8s_auth_host - k8s_auth_api_key - ovirt_hostname - ovirt_username - ovirt_password - vmware_host - vmware_user - vmware_password,0,fix yaml indent
- name: restart slice name: system-kresd.slice,1,fix: latest Raspbian and Ansible support
when: item.url is defined and item.download_only is not defined,0,fix for plugins
amd64:3.14: amd64:3.13:,0,Fix build step for Alpine 3.13 and 3.14
become: true apt: state: present name: - nfs-kernel-server,0,refactor: updated the task files to be alligned with standards
"hostname: ""{{ item.networkinterfaces[0].accessconfigs[0].natip }}"" - ""{{ gce_pgbouncer_secondary }}"" hostname: ""{{ item.networkinterfaces[0].networkip }}"" - ""{{ gce_pgbouncer_secondary }}""",0,Refactor items and groups usage to condensate them into fewer lines
"ceilometer_service_user_name: ""{{ hostvars['localhost']['ceilometer_service_user_name'] }}"" ceilometer_service_tenant_name: ""{{ hostvars['localhost']['ceilometer_service_tenant_name'] }}"" # swift vars used when swift is enabled swift_system_user_name: ""{{ hostvars['localhost']['swift_system_user_name'] }}"" swift_system_shell: ""{{ hostvars['localhost']['swift_system_shell'] }}"" swift_system_comment: ""{{ hostvars['localhost']['swift_system_comment'] }}"" swift_system_home_folder: ""{{ hostvars['localhost']['swift_system_home_folder'] }}""",0,"Merge ""Fix Ceilometer deployments"""
license: license gpl-2.0 min_ansible_version: 2.1,1,Fix licence and add some information in Readme
os_keypair: name=nightfall public_key_file=/home/lynx/.ssh/id_rsa.pub,1,Typo in OpenSSL DH parameter generation. Updated PHP packet selection for webserver paybooks.
ec2_instance_type: t2.micro ec2_ami_id: ami-0023b746ecfab8fa3 # ec2_ami_id: ami-0a49229a76aed9553 # ec2_instance_type: t4g.nano ec2_security_group: base-enablement ec2_name_tag: meta-rpm ec2_contact_tag: ansible_deploy ec2_app_tag: meta-rpm,1,[Fixes] Added some parameter fixes
- zsh-completions # zsh command completions - zsh-autosuggestions # finish commands from history - zsh-history-substring-search # autosearch via history - grml-zsh-config # zsh config used in archiso (liveboot iso),0,fix errors; finish zsh customization
#delegate_to: '{{ backup_server_ip }}' #delegate_to: '{{ backup_server_ip }}',1,minor error in delegation
- name: register a docker in docker runner (sudo) copy: src: files/config.toml dest: /etc/gitlab-runner/config.toml force: yes notify: - verify and add new runners - name: register a docker in docker runner ( non_sudo - {{master_user}} ) copy: src: files/config.toml dest: /home/{{master_user}}/.gitlab-runner/config.toml force: yes notify: - verify and add new runners,0,-> Solve issue ðŸ’¡:
"- name: ""prepare haproxy"" - name: ""include labocbz.prepare_host"" tags: - ""labocbz.prepare_host"" vars: prepare_host_system_users: ""{{ inv_prepare_host_haproxy_system_users }}"" ansible.builtin.include_role: name: ""labocbz.prepare_host"" loop: ""{{ inv_haproxy_cert_bundles }}"" when: inv_haproxy_cert_bundles is defined and bundle.type == ""cert"" loop: ""{{ inv_haproxy_cert_bundles }}"" when: inv_haproxy_cert_bundles is defined and bundle.type == ""ca"" - name: ""include labocbz.prepare_host"" tags: - ""labocbz.prepare_host"" vars: prepare_host_system_users: ""{{ inv_prepare_host_apache_system_users }}"" ansible.builtin.include_role: name: ""labocbz.prepare_host""",0,"refacto, iptables, fixes"
"password: ""postgres""",1,Fix install PostgreSQL
community.general.cargo:,1,Fix indentation
- curl -slo https://raw.githubusercontent.com/homebrew/install/master/uninstall - chmod +x ./uninstall - ./uninstall --force,0,Issue #61: Better uninstall steps.
nagios_http_port: 80,1,Many fixes here:
- shell: java -version 2>&1 | grep openjdk ignore_errors: yes changed_when: false,0,fix the check for the openjdk
"docker_compose_version: ""v2.24.1""",0,fix: Fix docker compose check
"- ""{{ alertmanager_server | default('localhost:9093') }}""",0,"fixes alert routing, now it works."
selected_theme: dracula - name: '[qt5/6] use gtk themes' vars: gtk_version: gtk2 export qt_qpa_platformtheme={{ gtk_version }} export qt_style_override={{ gtk_version }} - dracula-gtk-theme # dark theme - qt5-styleplugins # gui framework - qt6gtk2 # gui framework,0,Merge branch '13-fix-zshrc' into 'main'
repo: '{{ repo_url }}',1,Fix bug: repo_url variable is visible across tasks
"license: license mit min_ansible_version: ""2.1""",0,Fix licence and add some information in Readme
"shell: ""curl -fssl https://raw.githubusercontent.com/matchbooklab/local-persist/master/scripts/install.sh""",1,fix local-persist plugin install
"tasks: - name: wait for marathon to be up wait_for: host=""{{ansible_default_ipv4.address}}"" port=8080 state=started delay=3 timeout=5 - name: test for marathon ... endpoint get_url: url=""http://{{ansible_default_ipv4.address}}:8080/v2/info"" dest=/tmp/marathon-info force=yes register: status failed_when: ""'ok' not in status.msg""",0,"CentOS/EL 7 support, test validation."
"failed_when: ""'ami-' not in ec2ami.stdout""",1,Fix to ami fail task condition
"ipvlan_swarm_internal: ""{{ not (voip_options.gateway | d('') != '' or voip_default_route | d('') != '') }}""",0,5046 fix internal flag on voip network
command: /bin/bash /tmp/raspbian-ua-netinst/build.sh command: /usr/bin/bash /tmp/raspbian-ua-netinst/clean.sh,1,build: fix commands
copy: src=munins/{{ item }} dest={{ munin_plugin_dest_path }} mode=0755 src=munins/{{ item[0] }} mode=0755,0,fix up path and make files executable
"lidarr_api_key: '{{ lookup(""ansible.builtin.password"", ""/dev/null chars=hexdigits length=32 seed=ansible_hostname"") }}'",0,fix: change apikey output to /dev/null
mode: 0777 dest: /etc/opt/remi/php70/php.ini,1,Fix rights php configurations files
"vnet_name2: ""myvnet{{ rpfx }}2""",0,fix name (#59)
- vmware_datacenter - vmware_foldere_flavor,1,fixed typos
# gitlab_rails['db_host'] = '{{ groups.primary_pgbouncer_internal[0] }}' - import_tasks: tasks/bootstrap/default/reconfigure.yml,1,Merge branch 'da-fix-pg-bouncer-host-secondary-node' into 'master'
"- name: update system""",1,Fix several task names
- name: check if swap file exists - name: set variable for existing swap file size - name: turn swap off if the size is less than 16gb - name: create a new swapfile of 16gb - name: set the correct permissions for the swapfile - name: format the swapfile - name: turn on swap,1,"Fix a bunch of names so it's easier to track what is happening when ansible runs, including some fixes to nextcloud and addition of b2 secret for longhorn for backup purposes"
"# when the local kernel version does not match the remote version, # the kernel will need to be updated and a manual reboot will be required bluetooth_enabled: 'false'",0,fixed bugs
"- name: lock root password user: name: root password_lock: yes shell: /bin/bash password_lock: yes command: ""postconf {{ item.key }}='{{ item.value }}'""",0,"lock all passwords, and minor typos"
"shell: ""microk8s add-node | tac | grep -e -m1 'microk8s join {{ microk8s_ip_regex_ha }}'""",0,"Add wireguard, do some cleanups, utilize wireguard for microk8s and fix a glaring omission with longhorn using the /tmp folder - meaning upon host reboot everything was lost"
# ec2_instance_type: t2.micro # ec2_ami_id: ami-0023b746ecfab8fa3 ec2_ami_id: ami-0a49229a76aed9553 ec2_instance_type: t4g.nano #ec2_security_group: base-enablement ec2_security_group: default ec2_name_tag: meta-rpm ec2_contact_tag: ansible_deploy ec2_app_tag: meta-rpm,0,[Fixes] Added some parameter fixes
name: brave description: brave browser repository baseurl: https://brave-browser-rpm-release.s3.brave.com/brave-browser.repo - name: install brave browser dnf: name=brave-browser,1,"Fix Brave Repo, Add 1Password"
"- name: create tracking database instances on secondary cluster name: ""{{ secondary_instance }}-{{ item }}"" device_name: ""disk-instance-secondary-{{ item }}-{{ prefix_name }}"" disk_name: ""disk-instance-secondary-{{ item }}-{{ prefix_name }}"" with_items: - trackingdb-1 - trackingdb-2 - trackingdb-3 register: gce_trackingdb_secondary async: 300 poll: 2",0,Refactor items and groups usage to condensate them into fewer lines
"- name: common - create the vm - name: common - provision the vm tasks: - name: common - create mount directory for truenas become: true ansible.builtin.file: path: ""{{ root_mount_dir }}"" owner: root group: root mode: ""0700"" state: directory",0,ðŸ”’ vm: Ensure that no one except root can access my application data
- pgbouncer-trackingdb,1,Fix bootstrapping
- restart mariadb - restart firewalld,0,fix some ansible-lint errors
"include_tasks: ""services/{{ service }}.yml"" # fixme: path include_tasks",0,Fixes
update_cache: false,1,Still trying to fix repository issue
- vmware_folder,0,fixed typos
ansible.builtin.fail: ansible.builtin.apt: update_cache: true,0,Refactor: Modules and linting suggestions
dockerfile: dockerfile-focal dockerfile: dockerfile--11,1,Fix Dockerfile input
"name: ""{{ item }}"" with_items: ""{{ gnome_packages }}""",1,Addressed looping package installation deprecation.
"key: ""{{ hostvars[service_backup_node]['nodes_public_keys']['public_key'] }}""",0,[FIX] main backup node is not correct in preparation playbook
"extra_vars: { awx_url: ""{{ awx_url }}"", awx_token: ""{{ master_token }}"", mailgun_api_token: ""{{ mailgun_api_token }}"", mailgun_domain_name: ""{{ mailgun_domain_name }}"", ""admin_email"": ""{{ admin_email }}"" }",1,"add SCM update to workflows, update error report plabook"
- security,0,"Remove ""security"" tag."
"local_action: ""shell scp -r {{ splunk_repository.repository_root }}/distserverkeys/{{ ansible_hostname }}/* splunk@{{ item }}:{{ splunk_installation.splunk_home_path }}/etc/auth/distserverkeys""",0,fix some things... add notes
"copy: src=idrac_2.2rc4 dest=/usr/lib64/nagios/plugins/idrac_2.2rc4 mode=""a+x"" copy: src=idrac-smiv2.mib dest={{snmp_mib_path}}/ mode=0755",0,Fix perms on iDRAC check + Dell MiB.
state: present,1,check if parcellite directory conf exists
- ansible-playbook playbooks/$playbook -i $inventory -l $hosts -e $extravars -t $tags -vd,0,fix
become: true with_items: '{{ satnogs_radio_blacklist_modules }}',1,satnogs-radio: Fix module unloading error after kenel update
"with_items: ""{{ grep_result.stdout_lines | default('') }}"" when: ansible_os_family == ""redhat"" and (ansible_distribution == ""amazon"" or ansible_distribution_major_version == ""6"")",0,Fix for a deprecation warning.
dest: /home/jaller94/bruce-matrix/config/matrix.js,0,Fix bruce's config
36306366333231323564333365613532353630653434343566636365386631666163313032353031 3732613339653661373731376633383130353134613334310a343661663830366638653666393537 39343530323066613933303930386539363162356664303863313034643462343333636130323763 3562326330386139320a393939323465643238316532343634623563636366343039666234356663 61363164383763333964326237336531346332353435396162393537323735313434323063643361 36623731373065313031316632346630316562396333646563323561663934363435326236646439 31346236323735643132333037663036663430626461376630303833393031616437373034616136 33326565626331343261383036653736646362653362623235383830613037623536303639353039 30636236623432613135356361353033383234636537323437333436663634393731316531653730 35656338303266393862633337356338353134343765366361396463653830323638396437386431 32333733303138373662383434656132333738643964623139353535613461616263626336376264 37626433323835636665333266633034633430393836373364363562666232363865663039343163 37396638653132356466346639353435653731316566613965653633386561353361353235346163 31393464636232636366336262303833356234666261366536653932383430636331343834386631 35363632356130623738303937613062313334303439336365663439373731373035356335346333 64643266366362386433303034656533343037313565376630656334643934313837313961316230 37373632366266383563646233393336383631303039356465616337656330353033316634623335 31356234316666356334373461613235323935326266333465633834316437636236643865323832 34373863396465353133306539303835653630646137393339343732386239316633363935616233 38333066616463393735,1,Add vault id encryption and test no_log
- name: common - create vm - name: common - install docker,1,ðŸ”’ vm: Ensure that no one except root can access my application data
name: registry.gitlab.com/local_infrastructure/image-alpine-ansible:1.2.0,0,fix
- command: java -version 2>&1 | grep openjdk changed_when: false,1,fix the check for the openjdk
"name: [pm-utils, tlp, powertop, xset, cpufreqd ]",1,Add a slew of additional packages that were missed after provisioning my l203ma
"# change listening port for http to match group_vars/all.yml - name: set http listen port lineinfile: dest=/etc/httpd/conf/httpd.conf \ regexp=""^listen"" \ line=""listen {{nagios_http_port}}""",0,Remove irksome handler and fix issue #6
tags: postgres,0,Fix postgres script. [ci skip]
# it is unused by default but see ensemble-template.yaml for instructions on how to include this instead of service_template.py.,0,update documentation
"destination_port: ""{{ inv_add_docker_swarm_portainer_http_port }}"" destination_port: ""{{ inv_add_docker_swarm_portainer_https_port }}""",0,fix portainers ports
"- name: ""verify haproxy"" - name: ""verify haproxy"" when: inv_install_haproxy | default(false) - name: ""get haproxy service current state"" register: haproxy_service_status failed_when: not haproxy_service_status.status.activestate == 'active' ansible.builtin.systemd: name: ""haproxy"" - name: ""check haproxy folders and conf"" block: - name: ""check haproxy folders"" loop: - ""{{ inv_install_haproxy_path }}"" - ""{{ inv_install_haproxy_confs_path }}"" - ""{{ inv_install_haproxy_error_path }}"" - ""{{ inv_install_haproxy_ssl_path }}"" loop_control: loop_var: folder_path register: folder_check failed_when: not folder_check.stat.exists ansible.builtin.stat: path: ""{{ folder_path }}"" - name: ""check haproxy errors files http"" loop: ""{{ inv_install_haproxy_error_files }}"" loop_control: loop_var: file_path register: file_check failed_when: not file_check.stat.exists ansible.builtin.stat: path: ""{{ inv_install_haproxy_error_path }}/{{ file_path }}.http"" - name: ""check stats url protection"" when: inv_install_haproxy_listen_stats - name: ""check haproxy connectivity"" ansible.builtin.wait_for: host: ""127.0.0.1"" port: ""{{ inv_install_haproxy_listen_stats_port }}"" timeout: 120 - name: ""check an unprotected stats http url"" when: not (inv_install_haproxy_stats_login is defined and inv_install_haproxy_stats_password is defined) and not inv_install_haproxy_listen_stats_https url: ""http://127.0.0.1:{{ inv_install_haproxy_listen_stats_port }}/{{ inv_install_haproxy_listen_stats_uri }}"" - name: ""check an unprotected stats https url"" when: not (inv_install_haproxy_stats_login is defined and inv_install_haproxy_stats_password is defined) and not inv_install_haproxy_listen_stats_https url: ""https://127.0.0.1:{{ inv_install_haproxy_listen_stats_port }}/{{ inv_install_haproxy_listen_stats_uri }}"" validate_certs: false - name: ""check a protected stats http url"" when: inv_install_haproxy_stats_login is defined and inv_install_haproxy_stats_password is defined and not inv_install_haproxy_listen_stats_https block: - name: ""check http basic auth-protected url availability"" register: result failed_when: result.status != 401 ansible.builtin.uri: url: ""http://127.0.0.1:{{ inv_install_haproxy_listen_stats_port }}/{{ inv_install_haproxy_listen_stats_uri }}"" method: ""get"" force_basic_auth: true user: ""notmyuser"" password: ""notmypassword"" - name: ""check http basic auth-protected url"" register: result failed_when: result.status != 200 ansible.builtin.uri: url: ""http://127.0.0.1:{{ inv_install_haproxy_listen_stats_port }}/{{ inv_install_haproxy_listen_stats_uri }}"" method: ""get"" force_basic_auth: true user: ""{{ inv_install_haproxy_stats_login }}"" password: ""{{ inv_install_haproxy_stats_password }}"" - name: ""check a protected stats https url"" when: inv_install_haproxy_stats_login is defined and inv_install_haproxy_stats_password is defined and inv_install_haproxy_listen_stats_https block: - name: ""check http basic auth-protected url availability"" register: result failed_when: result.status != 401 ansible.builtin.uri: url: ""https://127.0.0.1:{{ inv_install_haproxy_listen_stats_port }}/{{ inv_install_haproxy_listen_stats_uri }}"" method: ""get"" force_basic_auth: true user: ""notmyuser"" password: ""notmypassword"" validate_certs: false - name: ""check http basic auth-protected url"" register: result failed_when: result.status != 200 ansible.builtin.uri: url: ""https://127.0.0.1:{{ inv_install_haproxy_listen_stats_port }}/{{ inv_install_haproxy_listen_stats_uri }}"" method: ""get"" force_basic_auth: true user: ""{{ inv_install_haproxy_stats_login }}"" password: ""{{ inv_install_haproxy_stats_password }}"" validate_certs: false - name: ""check haproxy http confs files"" when: inv_add_haproxy_http_confs_configurations | default(false) loop: ""{{ inv_add_haproxy_http_confs_configurations }}"" loop_control: loop_var: configuration register: file_check failed_when: not file_check.stat.exists ansible.builtin.stat: path: ""{{ inv_install_haproxy_confs_path }}/{{ configuration.name }}.cfg"" - name: ""check haproxy bdd confs files"" when: inv_add_haproxy_bdd_confs_configurations | default(false) loop: ""{{ inv_add_haproxy_bdd_confs_configurations }}"" loop_control: loop_var: configuration register: file_check failed_when: not file_check.stat.exists ansible.builtin.stat: path: ""{{ inv_install_haproxy_confs_path }}/{{ configuration.name }}.cfg"" - name: ""verify apache2"" - name: ""verify apache2"" when: inv_install_haproxy | default(false) - name: ""get apache2 service current state"" register: install_apache_service_status failed_when: not install_apache_service_status.status.activestate == 'active' ansible.builtin.systemd: name: ""apache2"" - name: ""check apache2 http connectivity"" ansible.builtin.wait_for: host: ""{{ inventory_hostname }}"" port: ""{{ inv_install_apache_http_listen_port }}"" timeout: 120 - name: ""check apache2 https connectivity"" port: ""{{ inv_install_apache_https_listen_port }}"" - name: ""get apache2 service current state"" register: apache_service_status failed_when: not apache_service_status.status.activestate == 'active' ansible.builtin.systemd: name: ""apache2"" - name: ""check apache2 default configuration"" block: - name: ""check apache2 folders and conf"" loop: - ""/etc/apache2/apache2.conf"" - ""/etc/apache2/ports.conf"" loop_control: loop_var: folder_path register: folder_check failed_when: not folder_check.stat.exists ansible.builtin.stat: path: ""{{ folder_path }}"" - name: ""check apache2 http and conf"" loop: ""{{ inv_add_apache_confs_configurations }}"" loop_control: loop_var: vhost register: folder_check failed_when: not folder_check.stat.exists ansible.builtin.stat: path: ""{{ inv_add_apache_confs_confs_path }}/{{ vhost.server.name }}-http.conf"" - name: ""check apache2 https and conf"" loop: ""{{ inv_add_apache_confs_configurations }}"" loop_control: loop_var: vhost register: folder_check when: vhost.ssl failed_when: not folder_check.stat.exists ansible.builtin.stat: path: ""{{ inv_add_apache_confs_confs_path }}/{{ vhost.server.name }}-https.conf"" - name: ""check https conf: certs"" loop: ""{{ inv_add_apache_confs_configurations }}"" loop_control: loop_var: vhost register: folder_check when: vhost.ssl.enabled | default(false) failed_when: not folder_check.stat.exists ansible.builtin.stat: path: ""{{ vhost.ssl.crt }}"" - name: ""check https conf: keys"" loop: ""{{ inv_add_apache_confs_configurations }}"" loop_control: loop_var: vhost register: folder_check when: vhost.ssl.enabled | default(false) failed_when: not folder_check.stat.exists ansible.builtin.stat: path: ""{{ vhost.ssl.key }}"" - name: ""check apache2 webserver"" block: - name: ""check apache2 connectivity"" ansible.builtin.wait_for: host: ""{{ inventory_hostname }}"" port: ""{{ inv_add_apache_confs_http_listen_port }}"" timeout: 120 - name: ""check default vhost on http"" register: result failed_when: not (result.status != 200 or result.status == -1) ansible.builtin.uri: url: ""http://{{ inventory_hostname }}:{{ inv_add_apache_confs_http_listen_port }}/"" method: ""get"" - name: ""check default vhost on https"" register: result failed_when: not (result.status != 200 or result.status == -1) ansible.builtin.uri: url: ""https://{{ inventory_hostname }}:{{ inv_add_apache_confs_https_listen_port }}/"" method: ""get""",0,"refacto, iptables, fixes"
docker_tags: > ${ci_registry_image}:${distribution}-${distribution_version} $(echo $docker_tags | sed -r 's/(^|\s)/\1--tag /g') docker push $(echo $docker_tags | sed -r 's/(^|\s)/\1--tag /g'),1,Fix CI docker tags
calibre_container_image: 'linuxserver/calibre-web:{{ calibre_container_tag }}',0,Merge branch 'fix-container-roles' into 'develop'
ansible.builtin.yum: ansible.builtin.service: enabled: true ansible.builtin.template: ansible.builtin.service: enabled: true ansible.posix.selinux:,0,Merge branch 'fix-ansible-lint' into 'main'
"when: ocserv_cert_source == ""gen"" when: ocserv_cert_source == ""upload""",0,lets encrypt with ocserv
os_keypair: name=openstack public_key_file=/home/lynx/.ssh/id_openstack.pub,0,Typo in OpenSSL DH parameter generation. Updated PHP packet selection for webserver paybooks.
- name: check gcp mandatory variables,1,adjust GCP variable check for provisioning and deprovisioning
- mysql,0,Fix postgres script. [ci skip]
/com/gexperts/tilix/profiles/2b7c4080-0ddd-46c5-8f23-563fd3ba789d/visible-name: 'default',1,Update to fix everything with ansible-lint
"src: firefox.desktop mode: ""0644"" src: firefox-p.desktop mode: ""0644""",0,refactor: start lint
- dev-python/requests - dev-python/cryptography - dev-lua/luarocks - name: create ssl group group: name: ssl system: yes state: present - name: loop laprassl configuration include: ssl.yml until: laprasslcafile.stat.exists == true retries: 2,0,laprassl: refactor role and cleanup bootrstrap method
variables: image_commit: $ci_registry_image/commit:$ci_commit_sha ref: v0.6.0 - project: jeff_cook/policy ref: v0.6.0 file: /docker_build/.gitlab-ci.yml sonarscanner:,1,refactor: update pipeline
- name: wait for 2 minutes until instance is ready minutes: 2,0,Adjust the time to pause
"register: self_signed_crt register: self_signed_key name: ""{{ item }}"" with_items: ['nginx']",1,"update ansible syntax, fix issues with ci role"
src: ~/fiji.app/imagej2.desktop dest: ~/bureau/imagej2.desktop,0,Fix typo in imagej desktop launcher
selected_theme: adwaita-dark - name: '[qt5/6] use gtk2 themes' export qt_qpa_platformtheme=gtk2 export qt_style_override=gtk2 - qt5-styleplugins - qt6gtk2,1,Merge branch '13-fix-zshrc' into 'main'
"command: ""docker inspect --format='{{'{{'}} .state.status {{'}}'}}' test-{{ distro.name }}_{{ distro.name }}_1"" command: ""docker inspect --format='{{'{{'}} .state.startedat {{'}}'}}' test-{{ distro.name }}_{{ distro.name }}_1"" command: ""docker inspect --format='{{'{{'}} .state.status {{'}}'}}' test-{{ distro.name }}_{{ distro.name }}_1"" command: ""docker inspect --format='{{'{{'}} .state.startedat {{'}}'}}' test-{{ distro.name }}_{{ distro.name }}_1"" command: ""docker inspect --format='{{'{{'}} .state.status {{'}}'}}' test-{{ distro.name }}_{{ distro.name }}_1""",0,Merge pull request #939 from softasap/regression-test-fixes
- not remote | default ('false') | bool,1,minor typo in variable name fixed
--- tags:,0,mothball attacks
tags:,1,mothball attacks
"shell: ""etcdctl -c https://{{ hostvars[groups['etcd-sec'][0]].ansible_default_ipv4.address }}:2379 --cert-file /etc/etcd/peer.crt --key-file /etc/etcd/peer.key --ca-file /etc/etcd/ca.crt member add {{ ansible_hostname }} https://{{ ansible_default_ipv4.address }}:2380 2>/dev/null | grep '^etcd_initial_cluster='"" - name: add the configuration lines for etcd_name - name: add the configuration lines for etcd_initial_cluster - name: add the configuration lines for etcd_initial_cluster_state",0,mend
"url: ""http://localhost:{{ inv_install_prometheus__port }}"" url: ""http://localhost:{{ inv_install_prometheus__port }}"" url: ""https://localhost:{{ inv_install_prometheus__port }}"" url: ""https://localhost:{{ inv_install_prometheus__port }}"" host: ""localhost"" host: ""localhost"" host: ""localhost"" host: ""localhost"" url: ""http://localhost:{{ inv_add_apache_confs__http_listen_port }}/"" url: ""https://localhost:{{ inv_add_apache_confs__https_listen_port }}/""",0,fix CI 1
"name: [emacs, mg, terraform, ansible, ansible-lint, docker, aws-cli, doctl, git, git-email, gcc, make, automake, autoconf, luarocks, readline, lua5.1, lua5.2, lua5.3, fennel, sbcl, bash, lua5.1-dev, lua5.2-dev, lua5.3-dev, libc-dev, linux-headers, jamet, abuild, atools]",0,Add a slew of additional packages that were missed after provisioning my l203ma
- name: install keepassxc password manager and required packages become: true community.general.pacman: name: - keepassxc state: present,1,linting fixes
"when: item.name is match(""weidu-linux"") and not weidu.stat.exists path: ""{{ ansible_user_dir }}/.{{ lookup('env', 'shell') | regex_replace('^/bin/', '') }}rc""",1,"Updated to remove bloat in vars.yml, and hanlde loops better"
"copy: src: ""{{item}}"" copy:",1,refactor: lint
content: | backend = systemd,1,fix blockinfile of sshd
docker_tags: ${ci_registry_image}:${distribution}-${distribution_version} --tag $docker_tags docker push $docker_tags,0,Fix CI docker tags
"name: [emacs, mg, terraform, ansible, ansible-lint, docker, aws-cli, doctl, git, git-email, gcc, make, automake, autoconf, luarocks, readline, lua5.1, lua5.2, lua5.3, fennel, sbcl, bash, lua5.1-dev, lua5.2-dev, lua5.3-dev, libc-dev, linux-headers]",1,Add a slew of additional packages that were missed after provisioning my l203ma
changes:,0,[FIX] wrong rules
- name: enumerate all cluster hosts within the hosts file - name: find the designated host - name: waiting for microk8s to be ready on microk8s host master - name: get the microk8s join command from the microk8s master - name: get microk8s cluster nodes - name: waiting for microk8s to be ready on microk8s host node - name: set the microk8s join command on the microk8s node - name: configure cluster addons - name: define ip addresses for metallb to use - name: install metallb,1,"Fix a bunch of names so it's easier to track what is happening when ansible runs, including some fixes to nextcloud and addition of b2 secret for longhorn for backup purposes"
"- ./config.yml - include_tasks: tasks/ansible-setup.yml - include_tasks: tasks/sudoers.yml - include_tasks: tasks/terminal.yml - include_tasks: tasks/osx.yml - include_tasks: tasks/extra-packages.yml include_tasks: ""{{ outer_item }}""",0,fix syntax warnings
docker_repo_baseurl: 'https://download.docker.com/linux/centos/$releasever/$basearch/stable',0,docker-engine: Fix 'docker-ce' repository base URL to always follow release version
"url: ""https://discord.com/api/webhooks/{{ discord_webhook }}""",0,Fix discord url webhook
- include: wait.yml - include: selinux.yml - include: packages.yml,0,Bug fixing
"rules: ""{{ item.rules | union(bastionhost_ssh_rules) }}""",1,added option to allow current public IP to security group
backup: yes,0,"Update 20210409 - Apache2+FPM bug, added mod_php configuration."
when: - ocp_ver == 3.11 when: - ocp_ver != 3.11 when: - ocp_ver == 3.11,0,Fixing ocp_ver variable validation
"when: ""{{ ip_access }} == public"" when: ""{{ ip_access }} == public"" when: ""{{ ip_access }} == private"" when: ""{{ ip_access }} == private""",0,fix ansible quoting
name: enmanuelmoreira.k3s.k3s.master name: enmanuelmoreira.k3s.k3s.node name: enmanuelmoreira.k3s.k3s.post,0,fix
- pleroma-database - pleroma-database - pleroma-proxy - pleroma-proxy,0,fix: update ansible role names
- cd nginx_proxy,0,fix: fix stream and testing
"when: ""'networkmanager.service' in ansible_facts.services"" name: networkmanager.service",0,fix: use full name NetworkManager.service
- name: create mariadb configuration file ansible.builtin.template: src: my.cnf.j2 dest: /root/.my.cnf mode: 0644 owner: root group: root notify: - restart mariadb,1,try to solve the login error
- gstreamer1-plugins-good-extras - gstreamer1-plugins-good-gtk - keepassxc,0,Update to fix everything with ansible-lint
"dmcrypt_journal_collocation: false # backward compatibility with stable-2.2, will disappear in stable 3.1 dmcrypt: ""{{ true if dmcrypt_journal_collocation or dmcrypt_dedicated_journal else false }}"" # backward compatibility with stable-2.2, will disappear in stable 3.1 osd_scenario: ""{{ 'collocated' if journal_collocation or dmcrypt_journal_collocation else 'non-collocated' if raw_multi_journal or dmcrypt_dedicated_journal else 'dummy' }}"" # backward compatibility with stable-2.2, will disappear in stable 3.1",0,osd: fix a typo in roles/ceph-osd/defaults/main.yml
"# you can set the ""cloud"" property to restrict the deployment blueprint # so that it can only be deployed on environments that have been configured to use that cloud provider. # for example, uncomment one of these lines: # cloud: unfurl.relationships.connectsto.googlecloudproject # cloud: unfurl.relationships.connectsto.awsaccount # cloud: unfurl.relationships.connectsto.digitalocean # cloud: unfurl.relationships.connectsto.computemachines",0,update documentation
"server: true, retry_join: %w[{{ groups.secondary_patronis_internal[0] }} {{ groups.secondary_patronis_internal[1] }} {{ groups.secondary_patronis_internal[2] }}] postgresql['max_replication_slots'] = 1 command: gitlab-ctl replicate-geo-database --slot-name=singleslot --host={{ groups.primary_host[0] }} --no-wait --skip-backup --force retry_join: %w[{{ groups.secondary_patronis_internal[0] }} {{ groups.secondary_patronis_internal[1] }} {{ groups.secondary_patronis_internal[2] }}] retry_join: %w[{{ groups.secondary_patronis[0] }} {{ groups.secondary_patronis[1] }} {{ groups.secondary_patronis[2] }}]",1,Fix consul and improve bootstrap
"- name: create ca config template: src: ""{{ item['src'] }}"" dest: ""{{ item['dest'] }}"" owner: nginx group: nginx mode: 0640 with_items: - { src: ""gentoo/etc/laprassl/config.lua.j2"", dest: ""/etc/laprassl/config.lua"" } notify: - restart nginx - name: bootstrap ca shell: ""source /etc/profile && lua /usr/share/webapps/laprassl/9999/bootstrap.lua"" args: creates: ""./data/{{ inventory_hostname }}.crt.pem"" chdir: ""/usr/share/webapps/laprassl/9999"" - name: create nginx config template: src: ""{{ item['src'] }}"" dest: ""{{ item['dest'] }}"" owner: root group: root mode: 0640 with_items: - { src: ""gentoo/etc/nginx/conf.d/laprassl.conf.j2"", dest: ""/etc/nginx/conf.d/laprassl.conf"" } notify: - restart nginx",1,laprassl: refactor role and cleanup bootrstrap method
apt: name: nginx state: latest update_cache: true,0,Fix apt module package installation
"path: ""/home/{{ admin_user }}/.ssh""",1,rename chuckn246.keys to authorized_keys
"dest: ""{{ snmp_exporter_home }}/snmp.yml"" owner: ""{{ snmp_exporter_username }}"" group: ""{{ snmp_exporter_username }}""",0,fixes in ansible syntax. using more default values and making environment deployment easier.
#no_log: true #no_log: true,1,various fixes
"swift_system_user_name: swift swift_system_shell: /bin/bash swift_system_comment: swift system user swift_system_home_folder: ""/var/lib/{{ swift_system_user_name }}""",1,"Merge ""Fix Ceilometer deployments"""
"action: mysql_user user=root password={{ mysql_root_password }} host=localhost - name: mysql | delete anonymous mysql server user for {{ server_hostname }} action: mysql_user user="""" host=""{{ server_hostname }} state=""absent"" action: mysql_user user=""root"" password=""{{ mysql_root_password }}"" host=""::1"" action: mysql_user user=""root"" password=""{{ mysql_root_password }}"" host=""127.0.0.1"" action: mysql_user user=""root"" password=""{{ mysql_root_password }}"" host=""localhost"" - name: mysql | secure the mysql root user for {{ server_hostname }} domain action: mysql_user user=""root"" password=""{{ mysql_root_password }}"" host=""{{ server_hostname }}"" tags: common",0,Removing legacy variable substitution $var and replacing with {{}} due to deprecation
"command: [""--experimental""]",1,Fix Gitlab runner error
"url: ""https://localhost:{{ inv_install_elasticsearch__port }}/_cluster/health?wait_for_status=yellow&timeout=50s&pretty"" url: ""https://localhost:{{ inv_install_elasticsearch__port }}/_cluster/health?wait_for_status=yellow&timeout=50s&pretty"" url: ""http://localhost:{{ inv_install_logstash__api_ports }}/"" url: ""https://localhost:{{ inv_install_logstash__api_ports }}/"" url: ""https://localhost:{{ inv_install_logstash__api_ports }}/"" url: ""https://localhost:{{ inv_install_logstash__api_ports }}/"" host: ""localhost"" host: ""localhost"" host: ""localhost"" url: ""http://localhost:{{ inv_add_apache_confs__http_listen_port }}/"" url: ""https://localhost:{{ inv_add_apache_confs__https_listen_port }}/""",0,added prepare and verify
ansible.builtin.command:,1,linting fixes
"- app-crypt/cfssl url: ""{{ sslconfig['url'] }}""",1,module: fix dict issues on laprassl module
"- name: elasticsearch xpack tests initial es_version: ""5.1.2"" #modifies the installation. changes es_admin password and upgrades es. tests confirm the correct version is installed. - name: elasticsearch xpack modify hosts: localhost roles: - { role: elasticsearch, es_api_port: 9200, es_config: { ""http.port"": 9200, ""transport.tcp.port"":9300, discovery.zen.ping.unicast.hosts: ""localhost:9300"", ""xpack.security.authc.realms.file1.type"": ""file"",""xpack.security.authc.realms.file1.order"": 0, ""xpack.security.authc.realms.native1.type"": ""native"",""xpack.security.authc.realms.native1.order"": 1 }, es_instance_name: ""security_node"" } vars: es_heap_size: ""1g"" es_templates: true es_version: ""5.2.2"" es_enable_xpack: true es_xpack_license: ""{{ lookup('file', '/tmp/license.json') }}"" es_plugins: - plugin: ingest-attachment es_xpack_features: - security - alerting es_api_basic_auth_username: elastic es_api_basic_auth_password: changeme es_role_mapping: power_user: - ""cn=admins,dc=example,dc=com"" user: - ""cn=users,dc=example,dc=com"" - ""cn=admins,dc=example,dc=com"" es_users: native: kibana4_server: password: changeme roles: - kibana4_server file: es_admin: password: changemeagain roles: - admin testuser: password: changemealso! roles: - power_user - user",0,Support for plugin diffs + improved testing on minor upgrades + fixes
scripts/a714-runner --file tests/${srvname}.yml --output-dir log/test_a714_runner --no-ansible-output; - scripts/a714-runner --file tests/simple_backup_test.yml --output-dir log/test_backup_system --mode backup --verbosity 2;,1,[IMP] reduce verbosity for tests
"- default_browser_name: librewolf - default_browser_fullpath: /usr/bin/{{ default_browser_name }} - python - python-pip - python-setuptools - zsh-completions # zsh command completions - zsh-syntax-highlighting # zsh syntax highlighting - zsh-autosuggestions # finish commands from history - zsh-history-substring-search # autosearch via history - grml-zsh-config # zsh config used in archiso (liveboot iso) - pkgfile # command not found - zoxide # smarter cd - fzf # fuzzy finder - ripgrep # fast, recursive grep searcher - fd # faster `find` command - socat # dep for powerline - xorg-xrandr # dep for powerline - ansible-lint # linter for ansible # - texlive-most # latex generator dep for vim-latex-live-preview # https://wiki.archlinux.org/title/powerline # https://powerline.readthedocs.io/en/master/installation.html - pygit2 # soft dep for powerline marker: ""# {mark} zsh_rc"" block: ""{{ lookup('file', '../files/zsh_rc') }}"" # - .bashrc - name: copy custom zsh_rc to root # - .bashrc - name: build pkgfile cache (first time only) become: true ansible.builtin.command: cmd: pkgfile --update creates: /var/cache/pkgfile/core.files - name: === spaceship prompt block === block: - name: copy spaceship config ansible.builtin.copy: remote_src: false src: files/spaceship_rc dest: ~/.spaceshiprc.zsh force: true mode: '0644' - name: check if the plugins folder is empty changed_when: false ansible.builtin.find: file_type: any paths: ~/.vim/plugged/ register: plugin_files - name: download/install (neo)vim plugins (first time only) when: plugin_files.matched <= 0 scrolling: # how many lines of scrollback to keep, # '0' will disable scrolling. history: 10000 # number of lines the viewport will move for every line # scrolled when scrollback is enabled (history > 0). multiplier: 3 # faux scrolling # # the `faux_multiplier` setting controls the number # of lines the terminal should scroll when the alternate # screen buffer is active. this is used to allow mouse # scrolling for applications like `man`. # # to disable this completely, set `faux_multiplier` to 0. faux_multiplier: 3 - name: === /etc/environment block === - name: template /etc/environment become: true path: /etc/environment marker: '# {mark} environment_config' export browser={{ default_browser_fullpath }} create: true state: present mode: '0644' owner: root group: root # https://stackoverflow.com/a/64850938 marker: '# {mark} mimeapps_list_config' block: | [default applications] text/html={{ default_browser_name }}.desktop x-scheme-handler/http={{ default_browser_name }}.desktop x-scheme-handler/https={{ default_browser_name }}.desktop x-scheme-handler/ftp={{ default_browser_name }}.desktop x-scheme-handler/chrome={{ default_browser_name }}.desktop application/x-extension-htm={{ default_browser_name }}.desktop application/x-extension-html={{ default_browser_name }}.desktop application/x-extension-shtml={{ default_browser_name }}.desktop application/xhtml+xml={{ default_browser_name }}.desktop application/x-extension-xhtml={{ default_browser_name }}.desktop application/x-extension-xht={{ default_browser_name }}.desktop image/jpeg={{ default_browser_name }}.desktop image/png={{ default_browser_name }}.desktop",0,Merge branch '13-fix-zshrc' into 'main'
- post,1,fix: Do not add the skipped tags to the graph
# - https://wiki.archlinux.org/title/steam/troubleshooting#force_proton_to_use_wine_direct3d_emulation - steam - nvidia # nvidia: closed-source gpu - lib32-systemd # multi desync: https://www.protondb.com/app/813780#t4qkvqck-9 path: '{{ aoe2_dir }}',1,Merge branch '13-fix-zshrc' into 'main'
connect_timeout: 20 sleep: 5 delay: 5 timeout: 300,1,Syntax bug
when: nginx is defined or (nginx.default_site | default(true)),1,nginx: Fix enabling of default site
- name: list all updates - name: install only security updates,0,install only security updates
"- mv ~/.ansible-downloads/dotfiles/iterm/config.fish ~/.config/fish/config.fish run_once: true - name: source bash profile. shell: source $home/.bash_profile # - name: install bobthefish theme # shell: ""omf install bobthefish"" # check_mode: no",0,further tweaks
# when the local kernel version does not match the remote version # the kernel will need to updated and a manual reboot required bluetooth_enabled: false,1,fixed bugs
name: wait for instances to listen on port 22,1,ansible fix
key: https://gitlab.com/cworobetz/authorized_keys/raw/master/authorized_keys,0,Fix merge conflict
"- compton.j2: "".config/compton/launch.sh"" - lock.j2: "".config/i3/lock.sh"" - sound.j2: "".config/i3/sound.sh"" - screens.j2: "".config/i3/screens.sh"" - background.j2: "".config/i3/background.sh"" - rofi.j2: "".config/rofi/config"" - rofi-theme.rasi: "".config/rofi/my-theme.rasi"" - polybar.j2: "".config/polybar/config"" - launch_polybar.j2: "".config/polybar/launch.sh"" - dunstrc.ini.j2: "".config/dunst/dunstrc"" - battery.sh.j2: "".config/i3/battery.sh"" mode: '755' src: ""files.desktop"" dest: ""/usr/share/applications/files.desktop"" mode: '0644'",1,refactor: start lint
"vnet_name2: ""myvnet{{ rpfx }}""",1,fix name (#59)
"--name=ceph-osd-prepare-{{ ansible_hostname }}-{{ item.key }} \ -e osd_device=/dev/{{ item.key }} \ with_dict: ""{{ ansible_devices }}"" - ansible_devices is defined - item.value.removable == ""0"" - item.value.partitions|count == 0 - item.value.holders|count == 0",1,Merge pull request #2145 from ceph/fix-autodiscover
# vault_secrets_path: core/ansible-service # vault_shared_secrets_path: core/shared/aws_deploy_credentials ...,0,Fix yaml lintting
"user: ""{{ ansible_user }}""",0,lint fixes
- name: add brave repo - name: install brave browser,0,Fix brave browser mutliple tasks
"include_tasks: ""roles/minemeld/tasks/{{distribution_pre_task}}.yml"" - import_tasks: structure.yml - import_tasks: prototypes.yml - import_tasks: core.yml - import_tasks: webui.yml include_tasks: ""roles/minemeld/tasks/{{distribution_post_task}}.yml""",0,fixed a typo and updated to remove items deprecated as of ansible 2.4.1.0
- include: rkhunter.yml - include: iptables.yml,1,Minor bugfixes. Actually nothing important.
url: https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3,0,refactor: start lint
"traefik.http.services.hello_world.loadbalancer.server.port: ""8000""",0,Fixes Wrong loadbalancer port in `hello_world` example? #671
uid: 1000 gid: 1000,0,"Bugfixes: Removed unused groups, fixed uid/gid variable."
export overlay=local-${network}-full,1,fix(kustomize-cardano-node): fixed another typo in overlay name
- name: read-write rpm-meta git checkout from gitlab,1,Update yocto.yaml  minor typo
shell: /usr/local/rvm/scripts/rvm install 2.1.5,0,Fixing typo
--sds_ip {{ hostvars[inventory_hostname]['ansible_'+scaleio_interface]['ipv4']['address'] }},1,fixes issue for scaleio interface on non-homogenius clusters
- primary_patronis,1,Fix secondary patroni group hosts
state: reloaded,1,fix container state
mode: 0700,1,fix CI 2
kubectl cp -n {{ namespace }} {{ pod_name.stdout }}:/{{ wiki_archive }} data/,1,Fix download path
- name: ensure /usr/lib/systemd/system exists path: /usr/lib/systemd/system dest: /usr/lib/systemd/system/republisher.service dest: /usr/lib/systemd/system/republisher.timer,1,republisher: some fixes
"user: > shell=/bin/bash path=""{{ samba_share_path }}"" owner=""{{ storage_user }}"" group=""{{ storage_group }}"" become_user: ""{{ storage_user }}"" sudo: yes mode=0644 sudo: yes",1,Minor fixes
galaxy_info: role_name: fail2ban author: no fuss computing description: a role to install the specified github release tag for fail2ban license: https://gitlab.com/nofusscomputing/infrastructure/ansible-roles/-/blob/master/license min_ansible_version: 1.2 platforms: - name: debian versions: - 10 galaxy_tags: [ fail2ban ],0,Merge branch 'fix-more-bugs' into 'development'
shell: chdir /home/{{master_user}}/kafka-deployment-template/ helm install kafka --set service.type=clusterip --set namespace=kafka -f values.yaml .,1,"-> update task kafka ""issue: *doing nothing*"""
- hosts: aegir2 - aegir2,0,"Add README, update test setup and fix the Apache handlers (for realsies)."
"name: ""{{ item }}"" with_items: ""{{ motion_packages }}""",1,Addressed looping package installation deprecation.
apt: state: latest file: copy:,1,refactor: lint
"path: ""{{ arch_dir }}/{{ db_pg_name }}_bkp.bz2""",0,Merge branch 'fix-arch-del' into 'master'
"- arch_dir: ""/var/lib/psql/backups""",1,Merge branch 'fix-db-path' into 'master'
bastionsgid: {{bastionhost_out.group_id}},1,new code is added to playbook13
"vars: stats: ""{{ steam_game_dirs.results | map(attribute='stat') }}"" files_exist: ""{{ (stats | selectattr('exists', 'eq', true) | length) >= 1 }}"" unlinked_dirs: ""{{ (stats | selectattr('islnk', 'eq', false) | length) >= 1 }}"" when: files_exist and unlinked_dirs",0,Added block level validation for existing files and unlinked dirs
- python-certbot-nginx,1,fix: switch to python3 for le
name: simple_backup_test,0,[FIX] wrong service name and log management
"- name: standard test for single node setup. tests idempotence. es_heap_size: ""1g"" #do not add tests here. this test is run twice and confirms idempotency.",0,Support for plugin diffs + improved testing on minor upgrades + fixes
- freeipa.ansible_freeipa,0,problem was not fixed by using older versions
user: '{{ item.0.username }}',1,Add full support of authorized keys module
- django-openstack-auth,0,"Merge ""Remove Horizon django-openstack-auth lower pin"""
- name: create folder for the pandalaimon-data path: /home/jaller94/pandalaimon-data dest: /home/jaller94/pandalaimon-data/pantalaimon.conf - '8008' - /home/jaller94/pantalaimon-data/:/data - name: install packages based on package.json.,1,Fix pantalaimon container not running
"collections: - name: ""https://github.com/mbank59/ansible-graylog-modules.git""",0,fix: fixed issues with yamllint
"mode: 0644 - name: ""copy {{ mopidy.conf.src }}"" mode: 0664",1,Fix created dir permissions
keep_packages_updated: true,1,Fix test.yml. Set keep_packages_updated back to false
- not remove | default ('false') | bool,0,minor typo in variable name fixed
